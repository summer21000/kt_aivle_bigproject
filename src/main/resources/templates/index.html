<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©”ì¸ í˜ì´ì§€</title>
    <link rel="stylesheet" href="/css/style.css"> <!-- ê¸°ì¡´ CSS -->
    <link rel="stylesheet" href="/css/modal.css"> <!-- ê¸°ì¡´ CSS -->

    <style>
        /* ì¶”ê°€ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ - ì´ì „/ë‹¤ìŒ í™”ì‚´í‘œ ë²„íŠ¼ ë° í† ê¸€ ë²„íŠ¼ ê·¸ë£¹ */

        /* í™”ì‚´í‘œ ë²„íŠ¼: #prepStepsContainer ë‚´ë¶€ì˜ ì™¼ìª½ ìƒë‹¨ì— ìœ„ì¹˜ */
        #prevStep, #nextStep {
          position: absolute;
          top: 10px;
          background: transparent;
          border: none;
          font-size: 2rem;
          color: #d3d3d3; /* ê¸°ë³¸ ì—°í•œ íšŒìƒ‰ */
          cursor: pointer;
          transition: color 0.3s;
          z-index: 10;
        }
        /* ì´ì „ ë²„íŠ¼: ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì™¼ìª½ ìƒë‹¨ */
        #prevStep {
          left: 10px;
        }
        /* ë‹¤ìŒ ë²„íŠ¼: ì´ì „ ë²„íŠ¼ ì˜¤ë¥¸ìª½ì— ë°°ì¹˜ */
        #nextStep {
          left: 50px;
        }
        #prevStep:hover, #nextStep:hover {
          color: #000; /* í˜¸ë²„ ì‹œ ê²€ì •ìƒ‰ */
        }

        /* í† ê¸€ ë²„íŠ¼ ê·¸ë£¹: ë‘ ë²„íŠ¼(ë©´ì ‘ì¤€ë¹„, ë°œí‘œì¤€ë¹„)ì„ í•˜ë‚˜ì˜ ê·¸ë£¹ì²˜ëŸ¼ ë³´ì´ê²Œ */
        #toggleButtons {
          display: inline-flex;
          border: 2px solid #007bff;
          border-radius: 5px;
          overflow: hidden;
          margin-bottom: 20px;
          border-radius: 50px;
        }
        #toggleButtons button {
          border: none;
          background: none;
          padding: 10px 20px;
          cursor: pointer;
          transition: background 0.3s, color 0.3s;
          font-size: 1rem;
          color: #007bff;
          border-radius: 50px;
        }
        /* í™œì„± ìƒíƒœ */
        #toggleButtons button.active {
          background-color: #007bff;
          color: #fff;
        }


      /* í™”ì‚´í‘œ ë²„íŠ¼ì„ prepStepsContainer ë°”ê¹¥ìª½ìœ¼ë¡œ ì´ë™ */
#prevStep, #nextStep {
    position: absolute;
    top: -35px;  /* ì»¨í…Œì´ë„ˆ ìœ„ìª½ìœ¼ë¡œ ì´ë™ */
    font-size: 2rem;
    color: #d3d3d3;  /* ê¸°ë³¸ ì—°í•œ íšŒìƒ‰ */
    cursor: pointer;
    transition: color 0.3s;
    z-index: 10;
}

/* ì´ì „ ë²„íŠ¼: ì»¨í…Œì´ë„ˆ ë°”ê¹¥ ì™¼ìª½ */
#prevStep {
    left: 10px;  /* ì»¨í…Œì´ë„ˆ ì™¼ìª½ ë°”ê¹¥ìœ¼ë¡œ ì´ë™ */
}

/* ë‹¤ìŒ ë²„íŠ¼: ì»¨í…Œì´ë„ˆ ë°”ê¹¥ ì˜¤ë¥¸ìª½ */
#nextStep {
    right: 1300px;  /* ì»¨í…Œì´ë„ˆ ì˜¤ë¥¸ìª½ ë°”ê¹¥ìœ¼ë¡œ ì´ë™ */
}

#prevStep:hover, #nextStep:hover {
    color: #000; /* í˜¸ë²„ ì‹œ ê²€ì •ìƒ‰ */
}

/* prepStepsContainer ìœ„ì¹˜ ì¡°ì • */
#prepStepsContainer {
    position: relative; /* í™”ì‚´í‘œê°€ prepStepsContainer ë°”ê¹¥ì— ë°°ì¹˜ë˜ë„ë¡ */
    max-width: 1150px;
    margin: 50px auto 0 auto; /* ìƒë‹¨ ì—¬ë°± ì¡°ì • */
    background-color: #f1f8fe;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    height: 350px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: left;
    text-align: center;
}


        .feature1 {
            background-color: #f1f8fe;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 350px;
            height: 350px;
            flex-shrink: 0;
        }

        .feature1 h3 {
            font-size: 1.35rem;
            margin-bottom: 10px;
            color: #0056b3;
            font-weight: bold;
        }

        .feature1 p {
            font-size: 1.2rem;
            color: #333;
        }
    </style>
</head>
<body>
<!-- ë„¤ë¹„ê²Œì´ì…˜ (Thymeleaf include) -->
<div th:replace="navbar.html"></div>

<!-- í—¤ë” ì˜ì—­ -->
<div class="header" style="background: linear-gradient(to bottom,
  #1B1F3B 0%, #232A45 20%, #2C3E50 40%, #40556D 60%, #6A85A0 75%, #f1f8fe 100%);
  text-align: center; padding: 50px 20px; display: flex; align-items: flex-start        ;
  justify-content: center; gap: 50px; position: relative; top: -6px; ">
    <div class="text" style="max-width: 800px; margin-right: 8px;">
        <h1 style="font-size: 2.4rem; color: #8FBBF2; line-height: 1.4; text-align: center;">ë°œí‘œì™€ ë©´ì ‘,ë§í•˜ëŠ” ë°©ì‹ í•˜ë‚˜ë¡œ ì¸ìƒì„ ë°”ê¾¼ë‹¤</h1>
        <h2 style="font-size: 1.6rem; color: white; margin-top: 10px;">ë‹¹ì‹ ì˜ ë°œí‘œì™€ ë©´ì ‘ ìŠ¤í‚¬ì„ í–¥ìƒì‹œì¼œë³´ì„¸ìš”</h2>
        <button id="startButton" style="background-color: #007bff; color: white; padding: 12px 24px; border: none; border-radius: 5px; font-size: 1.2rem; cursor: pointer; margin-top: 20px; font-weight:bold;">ì‹œì‘í•˜ê¸°</button>
    </div>
    <div class="image-container">
        <img src="images/present1.png" alt="ë°œí‘œ ë¶„ì„ ì´ë¯¸ì§€" style="max-width: 550px; width: 100%; height: auto;">
    </div>
</div>

<!-- "ì™œ ì´ìš©í•´ì•¼ í•˜ëŠ”ì§€" ì„¤ëª… ì„¹ì…˜ -->
<section class="text1" style="text-align: center; padding: 50px 20px;">
    <h2 style="font-size: 1.9rem; margin-bottom: 20px; font-weight:bold">ë°œí‘œì™€ ë©´ì ‘, ê°ê´€ì ì¸ í”¼ë“œë°±ìœ¼ë¡œ ì‹¤ë ¥ì„ í‚¤ì›Œë³´ì„¸ìš”! </h2>
    <div class="features">
        <div class="feature1">
            <h3>ë°œí‘œ, ë©´ì ‘ ëŠ¥ë ¥ì„ ë¶„ì„</h3>
            <p>AIë¥¼ í†µí•´ ë°œí‘œì™€ ë©´ì ‘ì—ì„œì˜ ì›€ì§ì„, í‘œì •, ë°œìŒ ë“±ì„ ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ê°œì„ í•  ìˆ˜ ìˆì–´ìš”.</p>
            <img src="images/analysis.png" alt="ë¶„ì„ ì´ë¯¸ì§€" width="150" height="auto">
        </div>
        <div class="feature1">
            <h3>ê°ê´€ì ì¸ í‰ê°€</h3>
            <p>ë‚˜ì˜ ë°œí‘œ, ë©´ì ‘ ì‹¤ë ¥ì„ AI ê¸°ë°˜ìœ¼ë¡œ í‰ê°€ë°›ê³ , ê°•ì ê³¼ ë¶€ì¡±í•œ ë¶€ë¶„ì„ êµ¬ì²´ì ìœ¼ë¡œ í”¼ë“œë°± ë°›ì„ ìˆ˜ ìˆì–´ìš”.</p>
            <img src="images/evaluation.png" alt="í‰ê°€ ì´ë¯¸ì§€" width="150" height="auto">
        </div>
        <div class="feature1">
            <h3>í¸ë¦¬í•œ ì‚¬ìš©</h3>
            <p>ë³µì¡í•œ ì„¤ì • ì—†ì´ ê°„í¸í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ë°œí‘œì™€ ë©´ì ‘ ì—°ìŠµì„ í•  ìˆ˜ ìˆì–´ìš”.</p>
            <img src="images/monitor.png" alt="ì‚¬ìš© ì´ë¯¸ì§€" width="150" height="auto">
        </div>
    </div>
</section>

<!-- ì¤€ë¹„ ë°©ë²• ì„¹ì…˜: í† ê¸€ ë²„íŠ¼ ê·¸ë£¹ ë° ë‹¨ê³„ë³„ ë‚´ìš© -->
<section class="text1" style="text-align: center; padding: 50px 20px;">
    <h2 style="font-size: 1.9rem; margin-bottom: 20px;">ë°œí‘œì™€ ë©´ì ‘, ì¤€ë¹„ ë°©ë²•ì€ ì—°ìŠµ ë˜ ì—°ìŠµ!</h2>
    <!-- í† ê¸€ ë²„íŠ¼ ê·¸ë£¹ (ë©´ì ‘ì¤€ë¹„ / ë°œí‘œì¤€ë¹„) -->
    <div id="toggleButtons">
        <button id="interviewPrepBtn" class="active">ë©´ì ‘ì¤€ë¹„</button>
        <button id="presentationPrepBtn">ë°œí‘œì¤€ë¹„</button>
    </div>
    <!-- ë‹¨ê³„ë³„ ë‚´ìš© ì»¨í…Œì´ë„ˆ -->
    <div id="prepStepsContainer">
        <!-- ì´ì „/ë‹¤ìŒ ë²„íŠ¼ì„ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì¢Œì¸¡ ìƒë‹¨ì— ë°°ì¹˜ -->
        <button id="prevStep">&#60;</button>
        <button id="nextStep">&#62;</button>
        <!-- ë‹¨ê³„ë³„ ë‚´ìš©ì€ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ì ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
    </div>
</section>

<!-- "ì‚¬ìš©ë²• ì˜ˆì‹œ" ì„¹ì…˜ -->
<section class="text1" style="text-align: center; padding: 50px 20px;">
    <h2 style="font-size: 1.9rem; margin-bottom: 20px;">ì™œ ì‚¬ìš©í•´ì•¼í• ê¹Œ?</h2>
    <div style="display: flex; justify-content: space-around; align-items: center; gap: 20px; max-width: 1200px; margin: 0 auto;">
        <div class="feature3" style="background-color: #f1f8fe; padding: 20px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 45%; min-width: 300px; font-size:1.35rem; font-weight: bold; text-align:left;">
            âœ… ì‹¤ì œ ì´ìš©ì í›„ê¸°

            <p style="font-size: 1.15rem; text-align: left; font-weight: normal; line-height: 1.8; margin-bottom:15px;" >
                ğŸ”¹ <strong style="color: #0056b3; margin-right: 10px; font-weight:bold;">ëŒ€í•™ìƒğŸ§‘â€ğŸ“ </strong> "ì´ ì‚¬ì´íŠ¸ì—ì„œ ì—°ìŠµí•œ ë•ë¶„ì— ìº¡ìŠ¤í†¤ ë°œí‘œë¥¼ ì˜ ë§ˆë¬´ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤!"  <br><br>
                ğŸ”¹ <strong style="color: #0056b3; margin-right: 10px; font-weight:bold;">ì·¨ì—… ì¤€ë¹„ìƒğŸ‘©â€ğŸ’» </strong> "ì‹¤ì œ ë©´ì ‘ì—ì„œë„ ë‹¹í™©í•˜ì§€ ì•Šê³  ì—°ìŠµí•œëŒ€ë¡œ ìì‹ ìˆê²Œ ë‹µë³€í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤!" <br><br>
                ğŸ”¹ <strong style="color: #0056b3; margin-right: 10px; font-weight:bold;">ì§ì¥ì¸ğŸ‘¨â€ğŸ’¼ </strong> "ì…ì‚¬ í›„ ì²« ë°œí‘œë¼ ê±±ì •ëì§€ë§Œ, ì—°ìŠµí•œëŒ€ë¡œ ë°œí‘œ í–ˆë”ë‹ˆ ì„ ë°°ë‹˜ë“¤ê»˜ ê¸ì •ì ì¸ í”¼ë“œë°±ì„ ë°›ì•˜ìŠµë‹ˆë‹¤!"<br><br>
            </p>
        </div>

        <div class="feature3" style="background-color: #f1f8fe; padding: 20px; border-radius: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 45%; min-width: 300px; font-size:1.35rem; font-weight: bold; text-align:left;">
            ğŸ’¡ ì „ë¬¸ê°€ë„ ì¶”ì²œí•˜ëŠ” ì—°ìŠµ ë°©ë²•!

            <p style="font-size: 1.15rem; text-align: left; font-weight: normal; line-height: 1.8; margin-bottom:15px;" >
                ğŸ”¹<strong style="color: #0056b3; margin-right: 13px; font-weight: bold;"> ë©´ì ‘ê´€ ì¶œì‹  ì¸ì‚¬ ë‹´ë‹¹ì</strong>"ì´ ì‚¬ì´íŠ¸ë¥¼ í™œìš©í•˜ë©´ ì‹¤ì œ ë©´ì ‘ì—ì„œ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."<br><br>
                ğŸ”¹<strong style="color: #0056b3; margin-right: 13px; font-weight: bold;"> ìŠ¤í”¼ì¹˜ ì „ë¬¸ê°€</strong> "AI ë¶„ì„ì„ í™œìš©í•´ ìì‹ ì˜ ë°œí‘œ ìŠ¤íƒ€ì¼ì„ ì ê²€í•˜ë©´ ê¸°ì¡´ë³´ë‹¤ ì„¤ë“ë ¥ ìˆëŠ” ë°œí‘œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."<br><br>
                ğŸ”¹<strong style="color: #0056b3; margin-right: 13px; font-weight: bold;"> ì·¨ì—… ì»¨ì„¤í„´íŠ¸</strong> "ì´ í”Œë«í¼ì„ í™œìš©í•˜ë©´ ë°˜ë³µ ì—°ìŠµì„ í†µí•´ ë©´ì ‘ í•©ê²©ë¥ ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."<br><br>
            </p>
        </div>
    </div>
</section>

<!-- í‘¸í„° (Thymeleaf include) -->
<div th:replace="footer.html"></div>

<!--ì• ë‹ˆë©”ì´ì…˜ -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll(".text1"); // ëª¨ë“  text1 ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("show"); // ë³´ì´ë©´ show í´ë˜ìŠ¤ ì¶”ê°€
                }
            });
        }, { threshold: 0.2 }); // 20% ì´ìƒ ë³´ì´ë©´ ì‹¤í–‰

        sections.forEach((section) => observer.observe(section));
    });
</script>

<!-- ë‹¨ê³„ë³„ ì‚¬ìš©ë²• ë° í† ê¸€ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    // ë©´ì ‘ì¤€ë¹„ ë° ë°œí‘œì¤€ë¹„ ë‹¨ê³„ë³„ ë°ì´í„°
    var interviewSteps = [
      { top: "Step 1", title: "ë©´ì ‘ ì¤€ë¹„", description: "ê¸°ì—… ì •ë³´ë¥¼ ì² ì €íˆ ë¶„ì„í•˜ê³ , í•„ìˆ˜ ì¤€ë¹„ ì‚¬í•­ì„ ì ê²€í•©ë‹ˆë‹¤.", image:"images/inter1.png" },
      { top: "Step 2", title: "ì—°ìŠµ ì§„í–‰", description: "ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ì„ ìŒì„±, ì œìŠ¤ì²˜, í‘œì •ì„ ê³ ë ¤í•˜ë©° ì§„í–‰í•©ë‹ˆë‹¤.", image: "images/inter2.png" },
      { top: "Step 3", title: "ê²°ê³¼ ë¶„ì„", description: "í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì„ ì ì„ ë„ì¶œí•˜ì—¬ ì™„ë²½í•˜ê²Œ ì¤€ë¹„í•©ë‹ˆë‹¤.", image:" images/inter3.png" }
    ];
    var presentationSteps = [
      { top: "Step 1", title: "ë°œí‘œ ì¤€ë¹„", description: "ë°œí‘œì— í•„ìš”í•œ ì‹œê° ìë£Œì™€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì²´ê³„ì ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.", image: "images/pre1.png" },
      { top: "Step 2", title: "ì—°ìŠµ ì§„í–‰", description: "ì ì ˆí•œ ìŒì„±, ì œìŠ¤ì²˜, í‘œì •ì„ í™œìš©í•˜ì—¬ ë°œí‘œ ì—°ìŠµì„ ì§„í–‰í•©ë‹ˆë‹¤.", image: "images/pre2.png"},
      { top: "Step 3", title: "ê²°ê³¼ ë¶„ì„", description: "ë°œí‘œ ë…¹í™”ë³¸ ë¶„ì„ í›„ ê°œì„ ì ì„ íŒŒì•…í•˜ì—¬ ì™„ë²½í•˜ê²Œ ì¤€ë¹„í•©ë‹ˆë‹¤.", image:"images/pre3.png"}
    ];
    var currentCategory = "interview"; // ê¸°ë³¸ì€ ë©´ì ‘ì¤€ë¹„
    var currentStep = 0;

  function showStep() {
    var steps = (currentCategory === "interview") ? interviewSteps : presentationSteps;
    var container = document.getElementById("prepStepsContainer");

container.innerHTML =
    "<div style='display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;'>"+
         "<button id='prevStep'>&#60;</button>" +
         "<button id='nextStep'>&#62;</button>" +
    "</div>"+
    "<div style='display: flex; align-items: center; justify-content: space-between;'>"+
         "<div style='flex: 1; text-align: left; margin-right: 50px;'>"+
             "<div style='display: flex; align-items: center; gap: 10px; margin-top: 35px;'>"+
                 "<span style='background: #0056b3; color: white; padding: 6px 15px; border-radius: 15px; font-size: 0.9rem; font-weight: bold;'>"+
                 steps[currentStep].top+
                 "</span>"+
                 "<h3 style='color: #222; font-size: 1.7rem; font-weight: bold; margin: 0;'>"+
                 steps[currentStep].title+
                 "</h3>"+
             "</div>"+
             "<p style='font-size: 1.2rem; color: #222; text-align: left; line-height: 1.5; font-weight: bold; margin-top: 20px;'>"+
             steps[currentStep].description+
             "</p>"+
         "</div>"+
         "<div style='flex: 1; display: flex; justify-content: flex-end;'>"+
             "<img src='"+steps[currentStep].image+"' alt='ë‹¨ê³„ ì´ë¯¸ì§€' style='width: 400px; max-width: 55%; height: auto; margin: 10px auto 15px auto; display: block;'>"+
         "</div>"+
    "</div>";


    // ë‹¤ì‹œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
    document.getElementById("prevStep").addEventListener("click", function() {
        if (currentStep > 0) {
            currentStep--;
        } else {
            currentStep = steps.length - 1; // Step 1ì—ì„œ ì™¼ìª½ í™”ì‚´í‘œë¥¼ ëˆ„ë¥´ë©´ Step 3ìœ¼ë¡œ
        }
        showStep();
    });

    document.getElementById("nextStep").addEventListener("click", function() {
        if (currentStep < steps.length - 1) {
            currentStep++;
        } else {
            currentStep = 0; // Step 3ì—ì„œ ì˜¤ë¥¸ìª½ í™”ì‚´í‘œë¥¼ ëˆ„ë¥´ë©´ Step 1ë¡œ
        }
        showStep();
    });
}

    // í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸
    document.getElementById("interviewPrepBtn").addEventListener("click", function() {
      currentCategory = "interview";
      currentStep = 0;
      showStep();
      this.classList.add("active");
      document.getElementById("presentationPrepBtn").classList.remove("active");
      document.getElementById("categoryToggle").innerText = "ë©´ì ‘ì¤€ë¹„"; // ë§Œì•½ ë³„ë„ì˜ í…ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë©´ ì„¤ì •
    });
    document.getElementById("presentationPrepBtn").addEventListener("click", function() {
      currentCategory = "presentation";
      currentStep = 0;
      showStep();
      this.classList.add("active");
      document.getElementById("interviewPrepBtn").classList.remove("active");
      document.getElementById("categoryToggle").innerText = "ë°œí‘œì¤€ë¹„"; // ë§Œì•½ ë³„ë„ì˜ í…ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë©´ ì„¤ì •
    });
    // ì´ˆê¸° ë‹¨ê³„ í‘œì‹œ
    showStep();
</script>

<!-- ê¸°ì¡´ ì¸ì¦ ë° ê¸°íƒ€ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    var isLoggedIn = false; // ë¡œê·¸ì¸ ìƒíƒœ í”Œë˜ê·¸
    fetch('/auth/status')
      .then(response => response.json())
      .then(data => {
        isLoggedIn = data.isLoggedIn;
        if (isLoggedIn) {
          document.getElementById("nickname").innerText = data.username;
          document.getElementById("nickname").style.display = "inline";
          document.getElementById("logoutBtn").style.display = "inline-block";
          document.querySelector(".signup-button").style.display = "none";
          document.querySelector(".login-button").style.display = "none";
        }
      });
    document.getElementById("startButton").onclick = function () {
      if (isLoggedIn) {
        window.location.href = "/choice";
      } else {
        alert("ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”.");
        document.getElementById("loginModal").style.display = "block";
      }
    };
    document.getElementById("goToSignup").onclick = function () {
      document.getElementById("loginModal").style.display = "none";
      document.getElementById("signupModal").style.display = "block";
    };
    document.getElementById("signupForm").onsubmit = function (event) {
      event.preventDefault();
      const data = {
        username: document.querySelector('#signupForm [name="username"]').value,
        password: document.querySelector('#signupForm [name="password"]').value,
        nickname: document.querySelector('#signupForm [name="nickname"]').value,
      };
      fetch('/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      }).then((response) => {
        if (response.ok) {
          alert("íšŒì›ê°€ì… ì„±ê³µ!");
          document.getElementById("signupModal").style.display = "none";
          document.getElementById("loginModal").style.display = "block";
        } else {
          alert("íšŒì›ê°€ì… ì‹¤íŒ¨. ì•„ì´ë””ê°€ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤.");
        }
      });
    };
    document.getElementById("loginForm").onsubmit = function (event) {
      event.preventDefault();
      const data = new FormData(document.getElementById("loginForm"));
      const username = data.get("username");
      fetch('/login', { method: 'POST', body: data })
        .then(response => response.json())
        .then(data => {
          if (data.message === "Login successful") {
            alert("ë¡œê·¸ì¸ ì„±ê³µ!");
            if (data.role === "ADMIN") {
              window.location.href = "/admin";
            } else {
              window.location.href = "/";
            }
          } else {
            alert("ë¡œê·¸ì¸ ì‹¤íŒ¨. ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.");
          }
        });
    };



    // ë¡œê·¸ì¸ ì²˜ë¦¬
    document.getElementById("loginForm").onsubmit = function (event) {
        event.preventDefault();

        const data = new FormData(document.getElementById("loginForm"));
        const username = data.get("username"); // FormDataì—ì„œ username ê°’ ê°€ì ¸ì˜¤ê¸°

        fetch('/login', { method: 'POST', body: data })
            .then(response => response.json())
            .then(data => {
                if (data.message === "Login successful") {
                    alert("ë¡œê·¸ì¸ ì„±ê³µ!");
                    //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<2025-01-16 14:48 ë°•ì²­í•˜<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
                    // SharedWorkerì— ë©”ì‹œì§€ ì „ì†¡
                    worker.port.postMessage({ type: "connect", username: username });
                    console.log("Message sent to SharedWorker:", { type: "connect", username: username });
                    //>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>2025-01-16 14:48 ë°•ì²­í•˜>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

                    if (data.role === "ADMIN") {
                        window.location.href = "/admin";
                    } else {
                        window.location.href = "/";
                    }
                } else {
                    alert("ë¡œê·¸ì¸ ì‹¤íŒ¨. ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.");
                }
            });
    };

    // ëª¨ë‹¬ ë‹«ê¸°

    document.getElementById("closeLogin").onclick = function () {
      document.getElementById("loginModal").style.display = "none";
    };
    document.getElementById("closeSignup").onclick = function () {
      document.getElementById("signupModal").style.display = "none";
    };
    window.onclick = function (event) {
      if (event.target === document.getElementById("loginModal")) {
        document.getElementById("loginModal").style.display = "none";
      }
      if (event.target === document.getElementById("signupModal")) {
        document.getElementById("signupModal").style.display = "none";
      }
    };
</script>
</body>
</html>